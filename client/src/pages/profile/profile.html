<!--
  Generated template for the ProfilePage page.
  
  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  
  <ion-navbar>
    <ion-title>{{user.username}}</ion-title>
    
    <ion-buttons end>
      <button ion-button (click)="logout()">
        <ion-icon name="log-out"></ion-icon>
      </button>
    </ion-buttons>
    
  </ion-navbar>
  
</ion-header>

<ion-content padding>
  
  <ion-grid>
    <ion-row>
      <ion-col col-4>
        <img src={{user.profile_pic}}>
      </ion-col>
      <ion-col col-8 padding-left>
        <table>
          <tr>
            <th padding-bottom padding-right padding-left>0</th>
            <th padding-bottom padding-right>0</th>
            <th padding-bottom padding-right>0</th>
          </tr>
          <tr>
            <th padding-right padding-left>posts</th>
            <th padding-right>followers</th>
            <th padding-right>following</th>
          </tr>
        </table>
        <ion-row>
          <ion-col style="text-align: center">
            <button ion-button outline color="dark" small (click)="edit()">
              Edit profile
            </button>
          </ion-col>
        </ion-row>
      </ion-col>
      <ion-col>
        <p><strong>{{user.fullname}}</strong></p>
        <p>{{user.bio}}</p>
        <p><strong>Contact: </strong>{{user.email}}</p>
      </ion-col>
    </ion-row>
  </ion-grid>
  
  <!-- Gallery Grid -->
  <ion-segment [(ngModel)]="galleryType" color="primary" no-margin>
    <ion-segment-button value="regular">
      <ion-icon name="grid"></ion-icon>
    </ion-segment-button>
    <ion-segment-button value="frame">
      <ion-icon name="list"></ion-icon>
    </ion-segment-button>
  </ion-segment>
  
  <div [ngSwitch]="galleryType">
    <ion-grid *ngSwitchCase="'regular'">
      <ion-row>
        <ion-col col-6 col-md-4 col-xl-3 *ngFor="let post of posts">
            <img class="img-container" src="{{post.media_url}}" (click)="showDetail(post.media_id)">
        </ion-col>
      </ion-row>
    </ion-grid>
    
    <ion-list *ngSwitchCase="'frame'">
      <ion-card *ngFor="let post of posts">
        <ion-item>
          <ion-avatar item-start>
            <img src="{{user.profile_pic}}">
          </ion-avatar>
          <h2>{{user.username}}</h2>
          <p><small>{{post.created_at | amDateFormat:'LL'}}</small></p>
        </ion-item>

        <img class="img-container" src="{{post.media_url}}">
        
        <ion-row>
          <ion-col col-1>
            <button ion-button icon-start clear small>
              <ion-icon name="thumbs-up"></ion-icon>
              <div></div>
            </button>
          </ion-col>
          <ion-col col-1>
            <button ion-button icon-start clear small>
              <ion-icon name="text"></ion-icon>
              <div></div>
            </button>
          </ion-col>
        </ion-row>

        <ion-card-content>
          <p><small>{{post.media_des}}</small></p>
        </ion-card-content>
      </ion-card>
  </ion-list>
</div>

</ion-content>
